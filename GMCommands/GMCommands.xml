<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/">
    <Script file="Locations.lua" />
    <Script file="Teleport.lua" />
    <Frame name="GMCommands_TeleportFrame" toplevel="true" frameStrata="DIALOG" movable="true" enableMouse="true" parent="UIParent" enableKeyboard="true">
        <Size>
            <AbsDimension x="600" y="690" />
        </Size>
        <Anchors>
            <Anchor point="CENTER" />
        </Anchors>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
            <BackgroundInsets>
                <AbsInset left="11" right="12" top="12" bottom="11"/>
            </BackgroundInsets>
            <TileSize>
                <AbsValue val="32"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="32"/>
            </EdgeSize>
        </Backdrop>
        <ScrollFrame name="TeleportScrollFrame" inherits="UIPanelScrollFrameTemplate" parent="GMCommands_TeleportFrame">
            <Size>
                <AbsDimension x="560" y="620" />
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT" relativeTo="GMCommands_TeleportFrame" x="10" y="-60" />
                <Anchor point="BOTTOMRIGHT" relativeTo="GMCommands_TeleportFrame" x="-30" y="10" />
            </Anchors>
            <Frame name="TeleportScrollChildFrame" parent="TeleportScrollFrame">
                <Size>
                    <AbsDimension x="560" y="620"/>
                </Size>
            </Frame>
        </ScrollFrame>
        <EditBox name="LocationSearchBar" parent="GMCommands_TeleportFrame" inherits="InputBoxTemplate">
            <Size>
                <AbsDimension x="200" y="20" />
            </Size>
            <Anchors>
                <Anchor point="TOP" relativeTo="GMCommands_TeleportFrame" x="0" y="-30" />
            </Anchors>
            <Scripts>
                <OnTextChanged>
                    Teleport:Search(this:GetText())
                </OnTextChanged>
            </Scripts>
        </EditBox>
        <Button name="TeleportFrameSearchButton" inherits="UIPanelButtonTemplate2" parent="LocationSearchBar">
            <Size>
                <AbsDimension x="69" y="32"/>
            </Size>
            <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT">
                    <Offset>
                        <AbsDimension x="0" y="0"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Scripts>
                <OnShow>
                    local AL = AceLibrary("AceLocale-2.2"):new("GMCommands");
                    this:SetText(AL["Search"]);
                    this:SetFrameLevel( (this:GetParent()):GetFrameLevel() + 1 );
                </OnShow>
                <OnClick>
                    Teleport:Search(LocationSearchBar:GetText());
                    LocationSearchBar:ClearFocus();
                </OnClick>
            </Scripts>
        </Button>
    </Frame>
</UI>